<ion-app>
  <div class="dashboard-container">
    <!-- Sidebar izquierdo estático -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>Panel</h2>
      </div>
      
      <ion-list class="menu-items" >
        <ion-item class="menu-item" (click)="nav('/panel')">
          <ion-icon name="home" slot="start"></ion-icon>
          <ion-label>Inicio</ion-label>
        </ion-item>
        
        <ion-item class="menu-item active"(click)="nav('/entrada')">
          <ion-icon name="add-sharp" slot="start"></ion-icon>
          <ion-label>Agregar material</ion-label>
        </ion-item>
        <!--
        <ion-item class="menu-item" (click)="nav('/material')">
          <ion-icon name="cube" slot="start"></ion-icon>
          <ion-label>Materiales</ion-label>
        </ion-item>
        
        <ion-item class="menu-item"(click)="nav('/almacen')">
          <ion-icon name="archive" slot="start"></ion-icon>
          <ion-label>Almacén</ion-label>
        </ion-item>
        
        <ion-item class="menu-item"(click)="nav('/configuracion')">
          <ion-icon name="settings" slot="start"></ion-icon>
          <ion-label>Configuración</ion-label>
        </ion-item>-->
      </ion-list>
    </aside>

    <!-- Contenido principal -->
    <main class="main-content">
      <!-- Header -->
      <ion-header>
        <ion-toolbar>
          <img src="../../assets/icon/girolog.png" alt="">
          <ion-buttons slot="end">
            <ion-button>
              <ion-icon name="notifications-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="nav('/home')">
              <ion-icon name="log-out-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
       <!-- AQUI PEGALO-->
       



  <!-- FORMULARIO DE AGREGAR -->
  <ion-card *ngIf="!modoEdicion">
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.nombre" label="Nombre del material" placeholder="Ej: Cemento"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.cantidad" type="number" label="Cantidad"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.proveedor" label="Proveedor"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.fechaEntrada" type="date" label="Fecha de entrada"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.recibidoPor" label="Recibido por"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="nuevoMaterial.entregadoPor" label="Entregado por"></ion-input>
        </ion-item>
      </ion-list>
      <ion-button  (click)="agregarMaterial()">Agregar Material</ion-button>
    </ion-card-content>
  </ion-card>

  <!-- FORMULARIO DE EDICIÓN -->
  <ion-card *ngIf="modoEdicion">
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.nombre" label="Nombre del material"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.cantidad" type="number" label="Cantidad"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.proveedor" label="Proveedor"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.fechaEntrada" type="date" label="Fecha de entrada"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.recibidoPor" label="Recibido por"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input [(ngModel)]="materialEditando!.entregadoPor" label="Entregado por"></ion-input>
        </ion-item>
      </ion-list>
      <ion-button expand="block" (click)="actualizarMaterial()">Actualizar</ion-button>
      <ion-button expand="block" color="light" (click)="cancelarEdicion()">Cancelar</ion-button>
    </ion-card-content>
  </ion-card>

  <!-- LISTA DE MATERIALES -->
  <ion-list>
    <ion-item-sliding *ngFor="let material of materiales">
      <ion-item>
        <ion-label>
          <h2><strong>{{ material.nombre }} (x{{ material.cantidad }})</strong></h2>
          <p>Proveedor: {{ material.proveedor }}</p>
          <p>Fecha: {{ material.fechaEntrada }}</p>
          <p>Recibido por: {{ material.recibidoPor }}</p>
          <p>Entregado por: {{ material.entregadoPor }}</p>
        </ion-label>
      </ion-item>
      
      <ion-item-options side="start">
        <ion-item-option color="primary" (click)="editarMaterial(material)">
          <ion-icon slot="icon-only" name="create-outline"></ion-icon>
        </ion-item-option>
        <ion-item-option color="danger" (click)="eliminarMaterial(material.id)">
          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

      </ion-content>
    </main>
  </div>
</ion-app>